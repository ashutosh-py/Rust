Building stage0 library artifacts (x86_64-unknown-linux-gnu)
Building compiler artifacts (stage0 -> stage1, x86_64-unknown-linux-gnu)
Assembling stage1 compiler
Building stage1 library artifacts (x86_64-unknown-linux-gnu)
Building stage0 tool compiletest (x86_64-unknown-linux-gnu)
Check compiletest suite=ui mode=ui (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)

running 1 tests
F

failures:

---- [ui] tests/ui/traits/new-solver/dedup-vars.rs stdout ----

error: Error: expected failure status (Some(1)) but received status Some(101).
status: exit status: 101
command: "/home/ndrewxie/rust/build/x86_64-unknown-linux-gnu/stage1/bin/rustc" "/home/ndrewxie/rust/tests/ui/traits/new-solver/dedup-vars.rs" "-Zthreads=1" "--sysroot" "/home/ndrewxie/rust/build/x86_64-unknown-linux-gnu/stage1" "--target=x86_64-unknown-linux-gnu" "--error-format" "json" "--json" "future-incompat" "-Ccodegen-units=1" "-Zui-testing" "-Zsimulate-remapped-rust-src-base=/rustc/FAKE_PREFIX" "-Ztranslate-remapped-path-to-local-path=no" "-Zdeduplicate-diagnostics=no" "-Cstrip=debuginfo" "--emit" "metadata" "-C" "prefer-dynamic" "--out-dir" "/home/ndrewxie/rust/build/x86_64-unknown-linux-gnu/test/ui/traits/new-solver/dedup-vars" "-A" "unused" "-Crpath" "-Cdebuginfo=0" "-Lnative=/home/ndrewxie/rust/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/home/ndrewxie/rust/build/x86_64-unknown-linux-gnu/test/ui/traits/new-solver/dedup-vars/auxiliary" "-Ztrait-solver=next"
--- stdout -------------------------------
BEFORE: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [
                ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
            ],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [
                            (
                                OutlivesPredicate(
                                    Bar,
                                    ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
                                ),
                                BoringNoLocation,
                            ),
                        ],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U0,
    variables: [
        CanonicalVarInfo {
            kind: Region(
                U0,
            ),
        },
    ],
}
AFTER: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [
                ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
            ],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [
                            (
                                OutlivesPredicate(
                                    Bar,
                                    ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
                                ),
                                BoringNoLocation,
                            ),
                        ],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U0,
    variables: [
        CanonicalVarInfo {
            kind: Region(
                U0,
            ),
        },
    ],
}
BEFORE: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [
                ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
            ],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [
                            (
                                OutlivesPredicate(
                                    Bar,
                                    ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
                                ),
                                BoringNoLocation,
                            ),
                        ],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U0,
    variables: [
        CanonicalVarInfo {
            kind: Region(
                U0,
            ),
        },
    ],
}
AFTER: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [
                ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
            ],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [
                            (
                                OutlivesPredicate(
                                    Bar,
                                    ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
                                ),
                                BoringNoLocation,
                            ),
                        ],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U0,
    variables: [
        CanonicalVarInfo {
            kind: Region(
                U0,
            ),
        },
    ],
}
BEFORE: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [
                            (
                                OutlivesPredicate(
                                    Bar,
                                    ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
                                ),
                                BoringNoLocation,
                            ),
                        ],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U1,
    variables: [
        CanonicalVarInfo {
            kind: PlaceholderRegion(
                Placeholder {
                    universe: U1,
                    bound: BoundRegion {
                        var: 0,
                        kind: BrNamed(DefId(0:5 ~ dedup_vars[ed74]::Bar::'a), 'a),
                    },
                },
            ),
        },
    ],
}
AFTER: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [
                            (
                                OutlivesPredicate(
                                    Bar,
                                    ReLateBound(DebruijnIndex(0), BoundRegion { var: 0, kind: BrAnon(None) }),
                                ),
                                BoringNoLocation,
                            ),
                        ],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U0,
    variables: [
        CanonicalVarInfo {
            kind: PlaceholderRegion(
                Placeholder {
                    universe: U0,
                    bound: BoundRegion {
                        var: 0,
                        kind: BrNamed(DefId(0:5 ~ dedup_vars[ed74]::Bar::'a), 'a),
                    },
                },
            ),
        },
    ],
}
BEFORE: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U0,
    variables: [],
}
AFTER: Canonical {
    value: Response {
        certainty: Yes,
        var_values: CanonicalVarValues {
            var_values: [],
        },
        external_constraints: ExternalConstraints(
            Interned(
                ExternalConstraintsData {
                    region_constraints: QueryRegionConstraints {
                        outlives: [],
                        member_constraints: [],
                    },
                    opaque_types: [],
                },
                PrivateZst,
            ),
        ),
    },
    max_universe: U0,
    variables: [],
}
------------------------------------------
--- stderr -------------------------------
thread 'rustc' panicked at 'index out of bounds: the len is 0 but the index is 0', compiler/rustc_trait_selection/src/solve/eval_ctxt/canonical.rs:255:21
stack backtrace:
   0:     0x7fe9f9570c37 - std::backtrace_rs::backtrace::trace_unsynchronized::h352d783f8836f973
   1:     0x7fe9f956701b - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h68e861c138d09dfc
   2:     0x7fe9f95e4159 - core::fmt::write::hc9837b4a6b405547
   3:     0x7fe9f9534451 - std::io::Write::write_fmt::hb24223809381b675
   4:     0x7fe9f9566e8d - std::sys_common::backtrace::print::h4375715fac3c73a0
   5:     0x7fe9f954b877 - std::panicking::default_hook::{{closure}}::h1cd100ebfe0cbede
   6:     0x7fe9f954b61a - std::panicking::default_hook::hb341913f9cf3b16c
   7:     0x7fe9f9ef2c3f - rustc_driver_impl[3012c1cd686720e8]::DEFAULT_HOOK::{closure#0}::{closure#0}
   8:     0x7fe9f954bdf2 - std::panicking::rust_panic_with_hook::h7b51e523793dcd2c
   9:     0x7fe9f953dfe3 - std::panicking::begin_panic_handler::{{closure}}::h4eff0803b93bf7f1
  10:     0x7fe9f953df16 - std::sys_common::backtrace::__rust_end_short_backtrace::hc754a8eb77b3845c
  11:     0x7fe9f954b972 - rust_begin_unwind
  12:     0x7fe9f95333e3 - core::panicking::panic_fmt::h766f9bd0d9567fe0
  13:     0x7fe9f9533552 - core::panicking::panic_bounds_check::he75c4b878228025a
  14:     0x7fe9fc1f8b56 - <&mut <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::compute_query_response_substitution::{closure#0} as core[4df9b0e25e0d2810]::ops::function::FnOnce<((usize, rustc_middle[5074ee5b4c22835b]::infer::canonical::CanonicalVarInfo),)>>::call_once
  15:     0x7fe9fc10cd95 - <rustc_middle[5074ee5b4c22835b]::ty::subst::GenericArg as rustc_type_ir[ec05b60311a3d35]::CollectAndApply<rustc_middle[5074ee5b4c22835b]::ty::subst::GenericArg, &rustc_middle[5074ee5b4c22835b]::ty::list::List<rustc_middle[5074ee5b4c22835b]::ty::subst::GenericArg>>>::collect_and_apply::<core[4df9b0e25e0d2810]::iter::adapters::map::Map<core[4df9b0e25e0d2810]::iter::adapters::enumerate::Enumerate<core[4df9b0e25e0d2810]::iter::adapters::copied::Copied<core[4df9b0e25e0d2810]::slice::iter::Iter<rustc_middle[5074ee5b4c22835b]::infer::canonical::CanonicalVarInfo>>>, <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::compute_query_response_substitution::{closure#0}>, <rustc_middle[5074ee5b4c22835b]::ty::context::TyCtxt>::mk_substs_from_iter<core[4df9b0e25e0d2810]::iter::adapters::map::Map<core[4df9b0e25e0d2810]::iter::adapters::enumerate::Enumerate<core[4df9b0e25e0d2810]::iter::adapters::copied::Copied<core[4df9b0e25e0d2810]::slice::iter::Iter<rustc_middle[5074ee5b4c22835b]::infer::canonical::CanonicalVarInfo>>>, <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::compute_query_response_substitution::{closure#0}>, rustc_middle[5074ee5b4c22835b]::ty::subst::GenericArg>::{closure#0}>
  16:     0x7fe9fc1177c3 - <rustc_middle[5074ee5b4c22835b]::ty::context::TyCtxt>::mk_substs_from_iter::<core[4df9b0e25e0d2810]::iter::adapters::map::Map<core[4df9b0e25e0d2810]::iter::adapters::enumerate::Enumerate<core[4df9b0e25e0d2810]::iter::adapters::copied::Copied<core[4df9b0e25e0d2810]::slice::iter::Iter<rustc_middle[5074ee5b4c22835b]::infer::canonical::CanonicalVarInfo>>>, <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::compute_query_response_substitution::{closure#0}>, rustc_middle[5074ee5b4c22835b]::ty::subst::GenericArg>
  17:     0x7fe9fc11d6e1 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_goal
  18:     0x7fe9fbfec45e - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt as rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::overflow::OverflowHandler>::repeat_while_none::<rustc_middle[5074ee5b4c22835b]::traits::solve::Certainty, <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::try_evaluate_added_goals::{closure#0}, <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::try_evaluate_added_goals::{closure#1}>
  19:     0x7fe9fc121e72 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::try_evaluate_added_goals
  20:     0x7fe9fc121406 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_added_goals_and_make_canonical_response
  21:     0x7fe9fc11f2c7 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::compute_goal
  22:     0x7fe9fc17fdef - <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph as rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::overflow::OverflowHandler>::repeat_while_none::<rustc_middle[5074ee5b4c22835b]::infer::canonical::Canonical<rustc_middle[5074ee5b4c22835b]::traits::solve::Response>, <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>::{closure#0}::{closure#0}, <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>::{closure#0}::{closure#1}>
  23:     0x7fe9fc20143f - <rustc_query_system[2c39904fb33629ae]::dep_graph::graph::DepGraph<rustc_middle[5074ee5b4c22835b]::dep_graph::dep_node::DepKind>>::with_anon_task::<rustc_middle[5074ee5b4c22835b]::ty::context::TyCtxt, <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<rustc_middle[5074ee5b4c22835b]::infer::canonical::Canonical<rustc_middle[5074ee5b4c22835b]::traits::solve::Response>, rustc_middle[5074ee5b4c22835b]::traits::query::NoSolution>>
  24:     0x7fe9fc180080 - <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal::<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>
  25:     0x7fe9fc11d1a8 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_goal
  26:     0x7fe9fbfec45e - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt as rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::overflow::OverflowHandler>::repeat_while_none::<rustc_middle[5074ee5b4c22835b]::traits::solve::Certainty, <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::try_evaluate_added_goals::{closure#0}, <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::try_evaluate_added_goals::{closure#1}>
  27:     0x7fe9fc121e72 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::try_evaluate_added_goals
  28:     0x7fe9fc121406 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_added_goals_and_make_canonical_response
  29:     0x7fe9fc11e435 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::compute_goal
  30:     0x7fe9fc17fdef - <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph as rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::overflow::OverflowHandler>::repeat_while_none::<rustc_middle[5074ee5b4c22835b]::infer::canonical::Canonical<rustc_middle[5074ee5b4c22835b]::traits::solve::Response>, <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>::{closure#0}::{closure#0}, <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>::{closure#0}::{closure#1}>
  31:     0x7fe9fc20143f - <rustc_query_system[2c39904fb33629ae]::dep_graph::graph::DepGraph<rustc_middle[5074ee5b4c22835b]::dep_graph::dep_node::DepKind>>::with_anon_task::<rustc_middle[5074ee5b4c22835b]::ty::context::TyCtxt, <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<rustc_middle[5074ee5b4c22835b]::infer::canonical::Canonical<rustc_middle[5074ee5b4c22835b]::traits::solve::Response>, rustc_middle[5074ee5b4c22835b]::traits::query::NoSolution>>
  32:     0x7fe9fc180080 - <rustc_trait_selection[141dd5e2308adcf0]::solve::search_graph::SearchGraph>::with_new_goal::<<rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_canonical_goal::{closure#0}::{closure#0}>
  33:     0x7fe9fc11d1a8 - <rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::EvalCtxt>::evaluate_goal
  34:     0x7fe9fc1507fb - <rustc_infer[4d3928fb3ea1ef4e]::infer::InferCtxt as rustc_trait_selection[141dd5e2308adcf0]::solve::eval_ctxt::InferCtxtEvalExt>::evaluate_root_goal
  35:     0x7fe9fc194536 - <rustc_trait_selection[141dd5e2308adcf0]::solve::fulfill::FulfillmentCtxt as rustc_infer[4d3928fb3ea1ef4e]::traits::engine::TraitEngine>::select_where_possible
  36:     0x7fe9fc1f66f8 - <dyn rustc_infer[4d3928fb3ea1ef4e]::traits::engine::TraitEngine as rustc_infer[4d3928fb3ea1ef4e]::traits::engine::TraitEngineExt>::select_all_or_error
  37:     0x7fe9fc048c64 - <rustc_trait_selection[141dd5e2308adcf0]::traits::engine::ObligationCtxt>::select_all_or_error
  38:     0x7fe9fa63faf5 - rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::enter_wf_checking_ctxt::<rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_type_defn::{closure#0}>
  39:     0x7fe9fa57448a - rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_type_defn
  40:     0x7fe9fa570bb1 - rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_well_formed
  41:     0x7fe9fb729dbd - <std[e0afd7ea5d3fe186]::thread::local::LocalKey<core[4df9b0e25e0d2810]::cell::Cell<*const ()>>>::with::<rustc_middle[5074ee5b4c22835b]::ty::context::tls::enter_context<rustc_query_system[2c39904fb33629ae]::query::plumbing::execute_job_non_incr<rustc_query_impl[d83653c600d19515]::queries::check_well_formed, rustc_query_impl[d83653c600d19515]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[5074ee5b4c22835b]::query::erase::Erased<[u8; 0usize]>>::{closure#0}, rustc_middle[5074ee5b4c22835b]::query::erase::Erased<[u8; 0usize]>>
  42:     0x7fe9fb7f9b03 - rustc_query_system[2c39904fb33629ae]::query::plumbing::try_execute_query::<rustc_query_impl[d83653c600d19515]::queries::check_well_formed, rustc_query_impl[d83653c600d19515]::plumbing::QueryCtxt>
  43:     0x7fe9fb56d050 - rustc_query_impl[d83653c600d19515]::get_query::check_well_formed
  44:     0x7fe9fa6575fe - <core[4df9b0e25e0d2810]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[96c7fbd8d6df213a]::sync::par_for_each_in<&[rustc_hir[a03203a1750d3af4]::hir::TraitItemId], <rustc_middle[5074ee5b4c22835b]::hir::ModuleItems>::par_trait_items<rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_mod_type_wf::{closure#2}>::{closure#0}>::{closure#0}::{closure#0}> as core[4df9b0e25e0d2810]::ops::function::FnOnce<()>>::call_once
  45:     0x7fe9fa5f87c9 - std[e0afd7ea5d3fe186]::panicking::try::<(), core[4df9b0e25e0d2810]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[96c7fbd8d6df213a]::sync::par_for_each_in<&[rustc_hir[a03203a1750d3af4]::hir::ItemId], <rustc_middle[5074ee5b4c22835b]::hir::ModuleItems>::par_items<rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_mod_type_wf::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}>>
  46:     0x7fe9fa5960e4 - rustc_data_structures[96c7fbd8d6df213a]::sync::par_for_each_in::<&[rustc_hir[a03203a1750d3af4]::hir::ItemId], <rustc_middle[5074ee5b4c22835b]::hir::ModuleItems>::par_items<rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_mod_type_wf::{closure#0}>::{closure#0}>
  47:     0x7fe9fa6776f8 - <rustc_middle[5074ee5b4c22835b]::hir::ModuleItems>::par_items::<rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_mod_type_wf::{closure#0}>
  48:     0x7fe9fa5758de - rustc_hir_analysis[2d38e76667e9459]::check::wfcheck::check_mod_type_wf
  49:     0x7fe9fb729d1d - <std[e0afd7ea5d3fe186]::thread::local::LocalKey<core[4df9b0e25e0d2810]::cell::Cell<*const ()>>>::with::<rustc_middle[5074ee5b4c22835b]::ty::context::tls::enter_context<rustc_query_system[2c39904fb33629ae]::query::plumbing::execute_job_non_incr<rustc_query_impl[d83653c600d19515]::queries::check_mod_type_wf, rustc_query_impl[d83653c600d19515]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[5074ee5b4c22835b]::query::erase::Erased<[u8; 0usize]>>::{closure#0}, rustc_middle[5074ee5b4c22835b]::query::erase::Erased<[u8; 0usize]>>
  50:     0x7fe9fb7f937d - rustc_query_system[2c39904fb33629ae]::query::plumbing::try_execute_query::<rustc_query_impl[d83653c600d19515]::queries::check_mod_type_wf, rustc_query_impl[d83653c600d19515]::plumbing::QueryCtxt>
  51:     0x7fe9fb54ecc0 - rustc_query_impl[d83653c600d19515]::get_query::check_mod_type_wf
  52:     0x7fe9fa65771e - <core[4df9b0e25e0d2810]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[96c7fbd8d6df213a]::sync::par_for_each_in<&[rustc_hir[a03203a1750d3af4]::hir_id::OwnerId], <rustc_middle[5074ee5b4c22835b]::hir::map::Map>::par_for_each_module<rustc_hir_analysis[2d38e76667e9459]::check_crate::{closure#5}::{closure#0}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}> as core[4df9b0e25e0d2810]::ops::function::FnOnce<()>>::call_once
  53:     0x7fe9fa5f87f9 - std[e0afd7ea5d3fe186]::panicking::try::<(), core[4df9b0e25e0d2810]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[96c7fbd8d6df213a]::sync::par_for_each_in<&[rustc_hir[a03203a1750d3af4]::hir_id::OwnerId], <rustc_middle[5074ee5b4c22835b]::hir::map::Map>::par_for_each_module<rustc_hir_analysis[2d38e76667e9459]::check_crate::{closure#5}::{closure#0}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}>>
  54:     0x7fe9fa5961b4 - rustc_data_structures[96c7fbd8d6df213a]::sync::par_for_each_in::<&[rustc_hir[a03203a1750d3af4]::hir_id::OwnerId], <rustc_middle[5074ee5b4c22835b]::hir::map::Map>::par_for_each_module<rustc_hir_analysis[2d38e76667e9459]::check_crate::{closure#5}::{closure#0}::{closure#0}>::{closure#0}>
  55:     0x7fe9fa64363e - <rustc_session[ecdde891f5948777]::session::Session>::track_errors::<rustc_hir_analysis[2d38e76667e9459]::check_crate::{closure#5}, ()>
  56:     0x7fe9fa651b33 - rustc_hir_analysis[2d38e76667e9459]::check_crate
  57:     0x7fe9f9fa9371 - rustc_interface[7e80568d2ceb88d0]::passes::analysis
  58:     0x7fe9fb732834 - <std[e0afd7ea5d3fe186]::thread::local::LocalKey<core[4df9b0e25e0d2810]::cell::Cell<*const ()>>>::with::<rustc_middle[5074ee5b4c22835b]::ty::context::tls::enter_context<rustc_query_system[2c39904fb33629ae]::query::plumbing::execute_job_non_incr<rustc_query_impl[d83653c600d19515]::queries::analysis, rustc_query_impl[d83653c600d19515]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[5074ee5b4c22835b]::query::erase::Erased<[u8; 1usize]>>::{closure#0}, rustc_middle[5074ee5b4c22835b]::query::erase::Erased<[u8; 1usize]>>
  59:     0x7fe9fb850c57 - rustc_query_system[2c39904fb33629ae]::query::plumbing::try_execute_query::<rustc_query_impl[d83653c600d19515]::queries::analysis, rustc_query_impl[d83653c600d19515]::plumbing::QueryCtxt>
  60:     0x7fe9fb532c9a - rustc_query_impl[d83653c600d19515]::get_query::analysis
  61:     0x7fe9f9f5999e - <std[e0afd7ea5d3fe186]::thread::local::LocalKey<core[4df9b0e25e0d2810]::cell::Cell<*const ()>>>::with::<rustc_middle[5074ee5b4c22835b]::ty::context::tls::enter_context<<rustc_middle[5074ee5b4c22835b]::ty::context::GlobalCtxt>::enter<rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}::{closure#2}::{closure#4}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>
  62:     0x7fe9f9f46bd8 - <rustc_middle[5074ee5b4c22835b]::ty::context::GlobalCtxt>::enter::<rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}::{closure#2}::{closure#4}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>
  63:     0x7fe9f9f70754 - <rustc_interface[7e80568d2ceb88d0]::interface::Compiler>::enter::<rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}::{closure#2}, core[4df9b0e25e0d2810]::result::Result<core[4df9b0e25e0d2810]::option::Option<rustc_interface[7e80568d2ceb88d0]::queries::Linker>, rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>
  64:     0x7fe9f9efd629 - rustc_span[bc72e8cf61038315]::set_source_map::<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_interface[7e80568d2ceb88d0]::interface::run_compiler<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>
  65:     0x7fe9f9efe2bf - <scoped_tls[d59a433dba1d5125]::ScopedKey<rustc_span[bc72e8cf61038315]::SessionGlobals>>::set::<rustc_interface[7e80568d2ceb88d0]::interface::run_compiler<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>
  66:     0x7fe9f9f63010 - std[e0afd7ea5d3fe186]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[7e80568d2ceb88d0]::util::run_in_thread_pool_with_globals<rustc_interface[7e80568d2ceb88d0]::interface::run_compiler<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>
  67:     0x7fe9f9f79c04 - <core[4df9b0e25e0d2810]::panic::unwind_safe::AssertUnwindSafe<<std[e0afd7ea5d3fe186]::thread::Builder>::spawn_unchecked_<rustc_interface[7e80568d2ceb88d0]::util::run_in_thread_pool_with_globals<rustc_interface[7e80568d2ceb88d0]::interface::run_compiler<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#1}::{closure#0}> as core[4df9b0e25e0d2810]::ops::function::FnOnce<()>>::call_once
  68:     0x7fe9f9f53374 - std[e0afd7ea5d3fe186]::panicking::try::<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, core[4df9b0e25e0d2810]::panic::unwind_safe::AssertUnwindSafe<<std[e0afd7ea5d3fe186]::thread::Builder>::spawn_unchecked_<rustc_interface[7e80568d2ceb88d0]::util::run_in_thread_pool_with_globals<rustc_interface[7e80568d2ceb88d0]::interface::run_compiler<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>
  69:     0x7fe9f9f621a9 - std[e0afd7ea5d3fe186]::panic::catch_unwind::<core[4df9b0e25e0d2810]::panic::unwind_safe::AssertUnwindSafe<<std[e0afd7ea5d3fe186]::thread::Builder>::spawn_unchecked_<rustc_interface[7e80568d2ceb88d0]::util::run_in_thread_pool_with_globals<rustc_interface[7e80568d2ceb88d0]::interface::run_compiler<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#1}::{closure#0}>, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>
  70:     0x7fe9f9f7c5e2 - <<std[e0afd7ea5d3fe186]::thread::Builder>::spawn_unchecked_<rustc_interface[7e80568d2ceb88d0]::util::run_in_thread_pool_with_globals<rustc_interface[7e80568d2ceb88d0]::interface::run_compiler<core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>, rustc_driver_impl[3012c1cd686720e8]::run_compiler::{closure#1}>::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[4df9b0e25e0d2810]::result::Result<(), rustc_span[bc72e8cf61038315]::ErrorGuaranteed>>::{closure#1} as core[4df9b0e25e0d2810]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  71:     0x7fe9f95849da - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h481e59266d00f875
  72:     0x7fe9f958ac0a - std::sys::unix::thread::Thread::new::thread_start::h7e46e4f9732e143e
  73:     0x7fe9f008aea7 - start_thread
  74:     0x7fe9f93dfa2f - clone
  75:                0x0 - <unknown>

error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.71.0-dev running on x86_64-unknown-linux-gnu

note: compiler flags: -Z threads=1 -C codegen-units=1 -Z ui-testing -Z simulate-remapped-rust-src-base=/rustc/FAKE_PREFIX -Z translate-remapped-path-to-local-path=no -Z deduplicate-diagnostics=no -C strip=debuginfo -C prefer-dynamic -C rpath -C debuginfo=0 -Z trait-solver=next

query stack during panic:
#0 [check_well_formed] checking that `Bar` is well-formed
#1 [check_mod_type_wf] checking that types are well-formed in top-level module
#2 [analysis] running analysis passes on this crate
end of query stack
------------------------------------------



failures:
    [ui] tests/ui/traits/new-solver/dedup-vars.rs

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 14891 filtered out; finished in 52.18ms

Some tests failed in compiletest suite=ui mode=ui host=x86_64-unknown-linux-gnu target=x86_64-unknown-linux-gnu
