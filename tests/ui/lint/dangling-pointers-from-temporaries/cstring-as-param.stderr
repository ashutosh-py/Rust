warning: lint `temporary_cstring_as_ptr` has been renamed to `dangling_pointers_from_temporaries`
  --> $DIR/cstring-as-param.rs:1:9
   |
LL | #![deny(temporary_cstring_as_ptr)]
   |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `dangling_pointers_from_temporaries`
   |
   = note: `#[warn(renamed_and_removed_lints)]` on by default

error: getting a pointer from a temporary `CString` will result in a dangling pointer
  --> $DIR/cstring-as-param.rs:10:45
   |
LL |     some_function(CString::new("").unwrap().as_ptr());
   |                   ------------------------- ^^^^^^ this pointer will immediately be invalid
   |                   |
   |                   this `CString` is deallocated at the end of the statement, bind it to a variable to extend its lifetime
   |
   = note: pointers do not have a lifetime; when calling `as_ptr` the `CString` will be deallocated at the end of the statement because nothing is referencing it as far as the type system is concerned
   = help: for more information, see https://doc.rust-lang.org/reference/destructors.html
note: the lint level is defined here
  --> $DIR/cstring-as-param.rs:1:9
   |
LL | #![deny(temporary_cstring_as_ptr)]
   |         ^^^^^^^^^^^^^^^^^^^^^^^^

error: aborting due to 1 previous error; 1 warning emitted

