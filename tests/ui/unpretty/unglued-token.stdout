#[prelude_import]
use ::std::prelude::rust_2015::*;
#[macro_use]
extern crate std;
// check-pass
// compile-flags: -Zunpretty=hir

// https://github.com/rust-lang/rust/issues/87577

struct S;
#[automatically_derived]
impl ::core::fmt::Debug for S {
    fn fmt<'_, '_, '_>(self: &'_ Self, f: &'_ mut ::core::fmt::Formatter<>)
        -> ::core::fmt::Result { ::core::fmt::Formatter::write_str(f, "S") }
}

fn main() { let s = S; }
