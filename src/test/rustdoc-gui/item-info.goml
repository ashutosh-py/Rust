// This test ensures a few things for item info elements.
goto: file://|DOC_PATH|/lib2/struct.Foo.html
// Ensuring that the item information don't take 100% of the width if unnecessary.
// We set a fixed size so there is no chance of "random" resize.
size: (1100, 800)
// We check that ".item-info" is bigger than its content.
assert-css: (".item-info", {"width": "840px"})
assert-css: (".item-info .stab", {"width": "289px"})
assert-position: (".item-info .stab", {"x": 245})

// Now we ensure that they're not rendered on the same line.
goto: file://|DOC_PATH|/lib2/trait.Trait.html
// We first ensure that there are two item info on the trait.
assert-count: ("#main-content > .item-info .stab", 2)
// They should not have the same `y` position!
compare-elements-position-false: (
    "#main-content > .item-info .stab:nth-of-type(1)",
    "#main-content > .item-info .stab:nth-of-type(2)",
    ("y"),
)
// But they should have the same `x` position.
compare-elements-position: (
    "#main-content > .item-info .stab:nth-of-type(1)",
    "#main-content > .item-info .stab:nth-of-type(2)",
    ("x"),
)
// They are supposed to have the same height too.
compare-elements-css: (
    "#main-content > .item-info .stab:nth-of-type(1)",
    "#main-content > .item-info .stab:nth-of-type(2)",
    ["height"],
)

// Now checking the text color and the links color.
show-text: true
local-storage: {"rustdoc-theme": "dark", "rustdoc-use-system-theme": "false"}
goto: file://|DOC_PATH|/lib2/trait.Trait.html

assert-css: (".item-info .stab", {"color": "rgb(221, 221, 221)"}, ALL)
assert-css: (".item-info .stab strong", {"color": "rgb(221, 221, 221)"}, ALL)
assert-css: (".item-info .stab span", {"color": "rgb(221, 221, 221)"}, ALL)
assert-css: (".item-info .stab a", {"color": "rgb(221, 221, 221)"}, ALL)

local-storage: {"rustdoc-theme": "ayu"}
reload:

assert-css: (".item-info .stab", {"color": "rgb(197, 197, 197)"}, ALL)
assert-css: (".item-info .stab strong", {"color": "rgb(197, 197, 197)"}, ALL)
assert-css: (".item-info .stab span", {"color": "rgb(197, 197, 197)"}, ALL)
assert-css: (".item-info .stab a", {"color": "rgb(197, 197, 197)"}, ALL)

local-storage: {"rustdoc-theme": "light"}
reload:

assert-css: (".item-info .stab", {"color": "rgb(0, 0, 0)"}, ALL)
assert-css: (".item-info .stab strong", {"color": "rgb(0, 0, 0)"}, ALL)
assert-css: (".item-info .stab span", {"color": "rgb(0, 0, 0)"}, ALL)
assert-css: (".item-info .stab a", {"color": "rgb(0, 0, 0)"}, ALL)
